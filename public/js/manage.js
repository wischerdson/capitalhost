(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2:function(e,t,n){e.exports=n("Awo/")},"8oxB":function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"9BDi":function(e,t,n){"use strict";n.r(t);var i=n("9a8T"),r=n.n(i);t.default=function(e,t){t("aos",r.a)}},"Awo/":function(e,t,n){"use strict";n.r(t);var i=n("XuX8"),r=n.n(i),s=n("ique"),o=n("L2JU");r.a.use(o.default);var a=new o.default.Store({modules:{},state:{user:null,users:null},getters:{user:function(e){return e.user}},mutations:{user:function(e,t){e.user=t},users:function(e,t){e.users=t.map((function(e){return e.balance=+(+e.balance).toFixed(2),e}))}}});function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c,l,f,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||".",this.componentPath=t+"/"}var t,i,s;return t=e,(i=[{key:"namespace",value:function(t){var n=this.componentPath+t;return new e(n)}},{key:"component",value:function(e,t){var i=this.componentPath+e[0].toUpperCase()+e.substring(1);r.a.component(t,n("LV1Z")("".concat(i,".vue")).default)}},{key:"group",value:function(e){e(this)}}])&&u(t.prototype,i),s&&u(t,s),e}(),h={render:function(e){return e(s.default)},store:a};c=h,r.a,l=function(e,t){var n="$".concat(e);c[n]=t,c.store[n]=t,"__construct"in t&&t.__construct(),r.a.use((function(){r.a.prototype.hasOwnProperty(n)||Object.defineProperty(r.a.prototype,n,{get:function(){return this.$root.$options[n]}})}))},n("MH+P").default(c,l),n("9BDi").default(c,l),n("S/tw").default(c,l),n("aqoO").default(c,l),(f=new d).namespace("templates").group((function(e){e.component("Home","home-page")})),f.namespace("sections").group((function(e){e.component("Sidebar","section-sidebar"),e.component("UserDetails","section-user-details")})),f.namespace("snippets").group((function(e){e.component("UserDetailsTask","snippet-user-details-task"),e.component("UserInfoCard","snippet-user-info-card")})),new r.a(h).$mount("#app")},Bl4t:function(e,t,n){"use strict";n.r(t);var i={template:"#snippet_userInfoCard",props:["user"],computed:{selectedUser:function(){return this.$store.getters.user},hColor:function(){return this.user.freeze_in>168?"green":this.user.freeze_in<=0?"red":"yellow"},dColor:function(){return this.user.domains.length?"green":"red"},sColor:function(){return this.user.purchased_ssl.length?"green":"red"}},methods:{selectUser:function(){this.$store.state.user=this.user}}},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},"KHd+":function(e,t,n){"use strict";function i(e,t,n,i,r,s,o,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return i}))},LV1Z:function(e,t,n){var i={"./App.vue":"ique","./sections/Sidebar.vue":"Xju3","./sections/UserDetails.vue":"RXR7","./snippets/UserDetailsTask.vue":"ch0S","./snippets/UserInfoCard.vue":"Bl4t","./templates/Home.vue":"UrGV"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="LV1Z"},"MH+P":function(e,t,n){"use strict";n.r(t);var i=n("vDqi"),r=n.n(i);t.default=function(e,t){r.a.defaults.baseURL=document.querySelector('meta[name="base-url"]').getAttribute("content"),r.a.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),r.a.defaults.headers.common.Accept="application/json",r.a.defaults.headers.post["Content-Type"]="application/json",t("axios",r.a)}},RXR7:function(e,t,n){"use strict";n.r(t);var i={template:"#template_section_userDetails",data:function(){return{wait:!1,editableTask:null,scheduler:null}},computed:{createdAt:function(){var e=new Date(this.user.created_at);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},statusColor:function(){return this.user.freeze_in>168?"green":this.user.freeze_in<168&&this.user.freeze_in>0?"yellow":"red"},user:function(){return this.$store.getters.user},discountTimeRemaining:function(){var e=Date.now()/1e3,t=(this.user.discount_expire_at-e)/60/60/24;return Math.floor(t)},freezeIn:function(){var e=this.user.freeze_in;if(e<=0)return 0;var t=Math.floor(e/24);return t>0?t+" дн.":e+" ч."},isOpen:function(){return!!this.user}},methods:{setWait:function(e){this.wait=e},createTask:function(){var e=this,t=this.user.admin_tasks.reduce((function(e,t){return t.step>=e?t.step+1:e}),1),n={user_id:this.user.id,name:"Новая задача",step:t,status:"0"};this.send("tasks/create",{task:n},(function(t){var n=t.data;e.user.admin_tasks.push(n.task)}))},send:function(e,t,n){var i=this;n=n||function(){},this.wait=!0,t.secret="255655",this.$axios.post("/".concat(e),t).then(n).finally((function(){i.wait=!1}))},copyToClipboard:function(e,t){navigator.clipboard.writeText(e);var n=t.target.closest(".copy-to-clipboard"),i=n.querySelector(".copy"),r=n.querySelector(".tick");i.style.display="none",r.style.display="",setTimeout((function(){i.style.display="",r.style.display="none"}),2e3)}}},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},"S/tw":function(e,t,n){"use strict";n.r(t);var i=n("Hc5T"),r=n.n(i),s=n("XuX8"),o=n.n(s);t.default=function(e,t){o.a.use(r.a)}},URgk:function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new s(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UrGV:function(e,t,n){"use strict";n.r(t);var i={template:"#template__home",data:function(){return{wait:!1,pagination:{currentPage:null,total:null,pages:null,perPage:null},timeout:null,search:""}},watch:{search:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.setPage(1)}),700)}},computed:{user:function(){return this.$store.getters.user},users:function(){return this.$store.state.users},paginationOffset:function(){var e=this.pagination.currentPage-2-1;return 35*-(e=(e=e+2+1>this.pagination.pages-2?this.pagination.pages-4-1:e)<=0?0:e)}},methods:{selectUser:function(e){var t=this.users.find((function(t){return t.id===e}));this.$store.commit("user",t)},setPage:function(e){var t=this,n=document.location.search,i=new URLSearchParams(n);i.set("page",e);var r=i.toString();history.pushState({foo:"bar"},"Title","".concat(document.location.pathname,"?").concat(r)),this.pagination.currentPage=e,clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.refreshUsers()}),700)},refreshUsers:function(){var e=this;this.wait=!0;var t="/users/".concat(this.search?"search":"get");this.$axios.post(t,{secret:255655,page:this.pagination.currentPage,search:this.search}).then((function(t){var n=t.data;e.$store.commit("users",n.data),e.pagination.currentPage=n.current_page,e.pagination.total=n.total,e.pagination.perPage=n.per_page,e.pagination.pages=Math.ceil(e.pagination.total/e.pagination.perPage)})).finally((function(){e.wait=!1}))}},mounted:function(){var e=new URLSearchParams(document.location.search);this.pagination.currentPage=+ +e.get("page")||1,this.refreshUsers()}},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},Xju3:function(e,t,n){"use strict";n.r(t);var i={template:"#template_section_sidebar"},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,s,o,a,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){s.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(r=f.documentElement,i=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),i=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,i(u),u++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},aqoO:function(e,t,n){"use strict";n.r(t),t.default=function(e,t){t("transitionHeight",(function(e,t){var n=getComputedStyle(e).getPropertyValue("height");t(),e.style.height="auto";var i=getComputedStyle(e).getPropertyValue("height");e.style.height=n,setTimeout((function(){e.style.height=i}),10),e.addEventListener("transitionend",(function(){e.style.height=""}))}))}},ch0S:function(e,t,n){"use strict";n.r(t);var i={template:"#snippet_userDetails_task",props:["task"],data:function(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],scheduler:null,hiddenFront:!1,editableTask:null}},computed:{user:function(){return this.$store.getters.user}},methods:{quickEdit:function(){var e=this;this.hiddenFront=!0,this.enableEditableMode(),setTimeout((function(){e.$refs.taskNameInput.focus(),e.$refs.taskNameInput.select()}),10)},addZeroToDateIfItNecessary:function(e){return(e=parseInt(e))<=9?"0".concat(e):"".concat(e)},showScheduler:function(){var e=new Date;e.setTime(1e3*this.task.notify_at||e),this.scheduler={hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),month:e.getMonth(),year:e.getFullYear()},this.formatSchedulerData(),this.hiddenFront=!0},hideScheduler:function(){var e=this;this.hiddenFront=!1,setTimeout((function(){e.scheduler=null}),500)},formatSchedulerData:function(){for(var e in this.scheduler)"month"!=e&&(this.scheduler[e]=this.addZeroToDateIfItNecessary(this.scheduler[e]))},saveSchedule:function(){this.formatSchedulerData();var e="".concat(this.scheduler.year,"-").concat(this.scheduler.month+1,"-").concat(this.scheduler.day,"T").concat(this.scheduler.hour,":").concat(this.scheduler.minute,":00"),t=new Date(e);this.update({notify_at:Math.floor(t/1e3)}),this.hideScheduler()},clearSchedule:function(){this.update({notify_at:null}),this.hideScheduler()},updateStatus:function(){var e=parseInt(this.task.status);this.task.status="".concat(e>=2?0:e+1),this.update()},enableEditableMode:function(){this.scheduler=null,this.editableTask=this.clone(this.task)},disableEditableMode:function(){this.editableTask=null},saveChanges:function(){this.update(this.editableTask),this.disableEditableMode(),this.hiddenFront=!1},update:function(e){e&&Object.assign(this.task,e),this.send("update")},_delete:function(){var e=this;if(confirm("Точно удалить?")){var t=this.user.admin_tasks.filter((function(t){return t.id!=e.task.id}));t=this.refreshSteps(t),this.send("delete",(function(){e.$on("wait",(function(){e.$store.state.user.admin_tasks=t}))}))}},refreshSteps:function(e){e=e||this.user.admin_tasks;var t=1;return e.map((function(e){return e.step=t,t++,e}))},clone:function(e){return JSON.parse(JSON.stringify(e))},send:function(e,t){var n=this;t=t||function(){},this.$emit("wait",!0),this.$axios.post("/tasks/".concat(e),{secret:255655,task:this.task}).then(t).finally((function(){n.$emit("wait",!1)}))}}},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},ique:function(e,t,n){"use strict";n.r(t);var i={template:"#app"},r=n("KHd+"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.default=s.exports},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}},[[2,0,1]]]);